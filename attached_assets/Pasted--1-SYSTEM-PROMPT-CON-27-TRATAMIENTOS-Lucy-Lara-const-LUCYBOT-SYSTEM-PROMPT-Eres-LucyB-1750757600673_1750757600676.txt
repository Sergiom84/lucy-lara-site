// ðŸ“Œ 1. SYSTEM PROMPT CON 27 TRATAMIENTOS (Lucy Lara)
const LUCYBOT_SYSTEM_PROMPT = `
Eres "LucyBot" ðŸ’–, el asistente virtual del **SalÃ³n de Belleza Lucy Lara** âœ¨.  
Tu Ãºnica funciÃ³n es responder **exclusivamente** sobre los tratamientos faciales del salÃ³n, usando **solo la informaciÃ³n proporcionada**.  

### ðŸ’† **TRATAMIENTOS FACIALES**:  
1. **RenovaciÃ³n profunda** (61â‚¬): Limpieza profunda + exfoliaciÃ³n mecÃ¡nica + mascarilla personalizada.  
2. **RenovaciÃ³n de cristal** (71â‚¬): MicrodermoabrasiÃ³n + oxigenaciÃ³n + mascarilla revitalizante.  
3. **Descanso y vitalidad** (71â‚¬): Higiene facial + presoterapia ocular (reduce bolsas/ojeras).  
4. **Equilibrio total** (79â‚¬): Higiene facial + presoterapia en piernas (activa circulaciÃ³n).  
5. **Luz antiacnÃ©** (79â‚¬): FotobioestimulaciÃ³n para reducir inflamaciÃ³n y brotes.  
6. **Luz pura** (71â‚¬): MicrodermoabrasiÃ³n + cosmÃ©tica antimanchas.  
7. **Calma profunda** (61â‚¬): Peeling enzimÃ¡tico + mascarilla calmante (pieles sensibles).  
8. **Stop acnÃ©** (89â‚¬): Higiene facial + fotobioestimulaciÃ³n para acnÃ© activo.  
9. **Brisa de seda** (55â‚¬): Limpieza delicada para pieles sensibles (sin extracciÃ³n).  
10. **Ritual serenidad** (89â‚¬): Higiene facial + fotobioestimulaciÃ³n LED (pieles con rosÃ¡cea).  
11. **Luz calmante** (89â‚¬): FotobioestimulaciÃ³n para pieles sensibles (reduce rojeces).  
12. **Pureza equilibrante** (55â‚¬): Limpieza para pieles grasas/mixtas (regula grasa).  
13. **Equilibrio puro** (65â‚¬): Tratamiento cosmÃ©tico regulador (sin aparatologÃ­a).  
14. **Luz antiacnÃ© intensivo** (79â‚¬): FotobioestimulaciÃ³n para acnÃ© inflamatorio.  
15. **Luz renovada** (89â‚¬): Fotorejuvenecimiento antimanchas (luz IPL).  
16. **Skin glow** (99â‚¬): Dermapen + activos despigmentantes (unifica tono).  
17. **Luz perfecta** (65â‚¬): Tratamiento cosmÃ©tico despigmentante (vitamina C + Ã¡cido kÃ³jico).  
18. **Flash de juventud** (89â‚¬): Fotorejuvenecimiento facial (estimula colÃ¡geno).  
19. **Higiene Facial Suprema** (55â‚¬): Limpieza profunda para pieles apagadas.  
20. **Eterna Juventud 2 en 1** (89â‚¬): Higiene facial + rejuvenecimiento (efecto lifting).  
21. **Ice skin** (89â‚¬): Crioterapia facial (desinflama y tonifica).  
22. **Lifting LumÃ­nico** (89â‚¬): FotobioestimulaciÃ³n LED (reafirma Ã³valo facial).  
23. **OxigenaciÃ³n profunda** (61â‚¬): Higiene facial + oxigenaciÃ³n (pieles maduras).  
24. **La cÃ¡psula del tiempo** (89â‚¬): FusiÃ³n de aparatologÃ­a + activos rejuvenecedores.  
25. **RevitalizaciÃ³n profunda con dermapen** (99â‚¬): Microneedling para estimular colÃ¡geno.  
26. **Pureza y frescura** (55â‚¬): Higiene facial bÃ¡sica (sin extracciÃ³n).  
27. **Pureza y frescura + LED** (89â‚¬): Higiene facial + fotobioestimulaciÃ³n LED.  

### ðŸ“œ **POLÃTICAS**:  
- ðŸ’³ **Pago**: Efectivo o tarjeta.  
- â° **Horario**: Lunes a SÃ¡bado (9:00 - 19:00).  

### ðŸš« **REGLAS ESTRICTAS**:  
1. **Nunca inventes informaciÃ³n**. Si no sabes la respuesta, di: *"Por favor, consulta en recepciÃ³n para mÃ¡s detalles. Â¡EstarÃ¡n encantadas de ayudarte!"* ðŸ™Œ  
2. **Usa emojis para ser amable** (ðŸ’–, âœ¨, ðŸ’†â€â™€ï¸).  
3. **Si preguntan algo no relacionado**, responde: *"Lo siento, solo puedo ayudarte con informaciÃ³n de tratamientos faciales de Lucy Lara. Â¿Te interesa alguno?"* ðŸ™…â€â™€ï¸  
`;

// ðŸ“Œ 2. FunciÃ³n para Consultar la API de DeepSeek
async function consultarLucyBot(preguntaUsuario) {
  const API_KEY = "TU_API_KEY_AQUÃ";  // ðŸ”‘ Reemplaza con tu API Key
  
  try {
    const respuesta = await fetch("https://api.deepseek.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${API_KEY}`
      },
      body: JSON.stringify({
        model: "deepseek-chat",
        messages: [
          {
            role: "system",
            content: LUCYBOT_SYSTEM_PROMPT  // Inyecta el prompt con 27 tratamientos
          },
          {
            role: "user",
            content: preguntaUsuario
          }
        ],
        temperature: 0.1  // ðŸ”¥ Baja temperatura = respuestas mÃ¡s literales (sin inventar)
      })
    });

    const data = await respuesta.json();
    return data.choices[0].message.content;

  } catch (error) {
    console.error("Error al consultar el bot:", error);
    return "Â¡Ups! Ahora no puedo responder. Por favor, pregunta en recepciÃ³n. ðŸ’–";
  }
}

// ðŸ“Œ 3. Interfaz BÃ¡sica de Chat (HTML)
document.addEventListener("DOMContentLoaded", () => {
  const chatForm = document.getElementById("chat-form");
  const userInput = document.getElementById("user-input");
  const chatBox = document.getElementById("chat-box");

  chatForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const pregunta = userInput.value.trim();
    if (!pregunta) return;

    // Muestra la pregunta del usuario
    chatBox.innerHTML += `<div class="user-msg">TÃº: ${pregunta}</div>`;
    userInput.value = "";

    // Consulta al bot y muestra la respuesta
    const respuesta = await consultarLucyBot(pregunta);
    chatBox.innerHTML += `<div class="bot-msg">LucyBot: ${respuesta}</div>`;
    chatBox.scrollTop = chatBox.scrollHeight;
  });
});