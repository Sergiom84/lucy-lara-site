// ðŸ“Œ 1. ConfiguraciÃ³n del Bot y Tratamientos (System Prompt)
const LUCYBOT_SYSTEM_PROMPT = `
Eres "LucyBot", el asistente virtual exclusivo del **SalÃ³n de Belleza Lucy Lara** ðŸ’…âœ¨.  
Solo respondes preguntas sobre tratamientos faciales, precios y polÃ­ticas del salÃ³n.  

### ðŸ’† **TRATAMIENTOS FACIALES** (Precio | DuraciÃ³n | Frecuencia | DescripciÃ³n):  
1. **RenovaciÃ³n profunda**: 61â‚¬ | 45-60 min | 1/mes â†’ Limpieza profunda + exfoliaciÃ³n mecÃ¡nica + extracciÃ³n + mascarilla personalizada.  
2. **RenovaciÃ³n de cristal**: 71â‚¬ | 60 min | 1/mes â†’ MicrodermoabrasiÃ³n + oxigenaciÃ³n + mascarilla revitalizante.  
3. **Descanso y vitalidad**: 71â‚¬ | 60 min | 1/mes â†’ Higiene facial + presoterapia ocular (reduce bolsas/ojeras).  
4. **Equilibrio total**: 79â‚¬ | 75 min | 1/mes â†’ Higiene facial + presoterapia en piernas.  
5. **Luz antiacnÃ©**: 79â‚¬ | 60 min | 1/semana â†’ FotobioestimulaciÃ³n para reducir inflamaciÃ³n y brotes.  
6. **Luz pura**: 71â‚¬ | 60 min | 1/mes â†’ MicrodermoabrasiÃ³n + cosmÃ©tica antimanchas.  
7. **Calma profunda**: 61â‚¬ | 60 min | 1/mes â†’ Peeling enzimÃ¡tico + mascarilla calmante (para pieles sensibles).  
8. **Stop acnÃ©**: 89â‚¬ | 60 min | 1/semana â†’ Higiene facial + fotobioestimulaciÃ³n para acnÃ© activo.  
*(... lista completa con los 27 tratamientos ...)*  

### ðŸ“œ **POLÃTICAS**:  
- ðŸ’° **Pago**: Efectivo, tarjeta.  
- â° **Horario**: Lunes a SÃ¡bado (9:00 - 19:00).  
- ðŸ“… **Reservas**: Por telÃ©fono o en recepciÃ³n.  

### ðŸš« **REGLAS**:  
- Si te preguntan sobre otros temas, responde: *"Lo siento, solo puedo ayudarte con informaciÃ³n de Lucy Lara. Â¿Necesitas detalles de algÃºn tratamiento?"* ðŸ™…â€â™€ï¸  
- SÃ© **exacta** con precios y duraciones. Usa emojis (ðŸ’–, âœ¨, ðŸ’†â€â™€ï¸).  
`;

// ðŸ“Œ 2. FunciÃ³n para Consultar al Bot (API de DeepSeek)
async function consultarLucyBot(preguntaUsuario) {
  const API_KEY = "TU_API_KEY_AQUÃ";  // ðŸ”‘ Reemplaza con tu API Key de DeepSeek
  
  try {
    const respuesta = await fetch("https://api.deepseek.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${API_KEY}`
      },
      body: JSON.stringify({
        model: "deepseek-chat",
        messages: [
          {
            role: "system",
            content: LUCYBOT_SYSTEM_PROMPT  // Inyecta el prompt completo
          },
          {
            role: "user",
            content: preguntaUsuario
          }
        ],
        temperature: 0.3  // Respuestas precisas (sin inventar)
      })
    });

    const data = await respuesta.json();
    return data.choices[0].message.content;

  } catch (error) {
    console.error("Error al consultar el bot:", error);
    return "Â¡Ups! Ahora no puedo responder. Por favor, intenta mÃ¡s tarde.";
  }
}

// ðŸ“Œ 3. Ejemplo de Uso en tu Web (Interfaz BÃ¡sica)
document.addEventListener("DOMContentLoaded", () => {
  const chatForm = document.getElementById("chat-form");  // Formulario HTML
  const userInput = document.getElementById("user-input");  // Input de texto
  const chatBox = document.getElementById("chat-box");     // Div para mostrar respuestas

  chatForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const pregunta = userInput.value.trim();
    if (!pregunta) return;

    // Muestra la pregunta del usuario
    chatBox.innerHTML += `<div class="user-msg">TÃº: ${pregunta}</div>`;
    userInput.value = "";

    // Consulta al bot y muestra la respuesta
    const respuesta = await consultarLucyBot(pregunta);
    chatBox.innerHTML += `<div class="bot-msg">LucyBot: ${respuesta}</div>`;
    chatBox.scrollTop = chatBox.scrollHeight;  // Auto-scroll
  });
});